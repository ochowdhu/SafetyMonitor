## script to run tests
## TEST8 -- checking number of policies

testdir=test8
bindir=../src/build
codedir=../src/
#tracedir=../traces/
tracedir=""


ntests=3
formulas=("allF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF"
"allF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\n"
"allF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\nallF\n"
)

for ((f=0;f<${#formulas[@]};f++))
do

	# grab formula
	cform=${formulas[f]}
	echo "Starting formula \"$cform\""

	### loop aggr
	for ((i=0;i<$ntests;i++))
	do
		echo "$i: starting run..."
		bash "$codedir/runArmMon.sh" "$cform" "pTrace50m.csv" -f >> "$testdir/allF-f$f.log" 2>&1
	done

	sleep 1
done
